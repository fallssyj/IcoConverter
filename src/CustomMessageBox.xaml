<hc:Window
    x:Class="IcoConverter.CustomMessageBox"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="{Binding MsgTitle}"
    MinWidth="300"
    MinHeight="200"
    MaxWidth="700"
    MouseLeftButtonDown="Window_MouseLeftButtonDown"
    ResizeMode="NoResize"
    SizeChanged="Window_SizeChanged"
    SizeToContent="WidthAndHeight"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="60" />
        </Grid.RowDefinitions>

        <!--  消息内容区域  -->
        <Border Grid.Row="0" Margin="20,10,20,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!--  图标  -->
                <Border
                    Grid.Column="0"
                    Width="40"
                    Height="40"
                    Margin="0,0,15,0"
                    Background="{Binding IconBackground}"
                    CornerRadius="20"
                    Visibility="{Binding IconVisibility}">
                    <TextBlock
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        FontSize="20"
                        Text="{Binding IconText}" />
                </Border>

                <!--  消息文本  -->
                <TextBlock
                    Grid.Column="1"
                    MaxWidth="500"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    FontSize="14"
                    Text="{Binding Message}"
                    TextWrapping="Wrap" />
            </Grid>
        </Border>

        <!--  按钮区域  -->
        <Border Grid.Row="1" CornerRadius="0,0,10,10">
            <StackPanel
                Margin="0,0,0,10"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Orientation="Horizontal">

                <!--  确定按钮  -->
                <Button
                    Width="100"
                    Height="35"
                    Margin="5,0,5,0"
                    Command="{Binding OkCommand}"
                    Content="确定"
                    Style="{StaticResource ButtonPrimary}"
                    Visibility="{Binding OkButtonVisibility}" />
                <!--  是  -->
                <Button
                    Width="100"
                    Height="35"
                    Margin="5,0,5,0"
                    Command="{Binding YesCommand}"
                    Content="是"
                    Style="{StaticResource ButtonPrimary}"
                    Visibility="{Binding YesButtonVisibility}" />

                <!--  否  -->
                <Button
                    Width="100"
                    Height="35"
                    Margin="5,0,5,0"
                    Command="{Binding NoCommand}"
                    Content="否"
                    Style="{StaticResource ButtonWarning}"
                    Visibility="{Binding NoButtonVisibility}" />

                <!--  取消  -->
                <Button
                    Width="100"
                    Height="35"
                    Margin="5,0,5,0"
                    Command="{Binding CancelCommand}"
                    Content="取消"
                    Style="{StaticResource ButtonWarning}"
                    Visibility="{Binding CancelButtonVisibility}" />

            </StackPanel>
        </Border>
    </Grid>

</hc:Window>
